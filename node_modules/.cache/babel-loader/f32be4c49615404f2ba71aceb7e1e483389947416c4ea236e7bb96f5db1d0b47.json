{"ast":null,"code":"import { BaseTracer } from \"./base.js\";\nexport class RootListenersTracer extends BaseTracer {\n  constructor({\n    config,\n    onStart,\n    onEnd,\n    onError\n  }) {\n    super({\n      _awaitHandler: true\n    });\n    Object.defineProperty(this, \"name\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: \"RootListenersTracer\"\n    });\n    /** The Run's ID. Type UUID */\n    Object.defineProperty(this, \"rootId\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"config\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"argOnStart\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"argOnEnd\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, \"argOnError\", {\n      enumerable: true,\n      configurable: true,\n      writable: true,\n      value: void 0\n    });\n    this.config = config;\n    this.argOnStart = onStart;\n    this.argOnEnd = onEnd;\n    this.argOnError = onError;\n  }\n  /**\n   * This is a legacy method only called once for an entire run tree\n   * therefore not useful here\n   * @param {Run} _ Not used\n   */\n  persistRun(_) {\n    return Promise.resolve();\n  }\n  async onRunCreate(run) {\n    if (this.rootId) {\n      return;\n    }\n    this.rootId = run.id;\n    if (this.argOnStart) {\n      await this.argOnStart(run, this.config);\n    }\n  }\n  async onRunUpdate(run) {\n    if (run.id !== this.rootId) {\n      return;\n    }\n    if (!run.error) {\n      if (this.argOnEnd) {\n        await this.argOnEnd(run, this.config);\n      }\n    } else if (this.argOnError) {\n      await this.argOnError(run, this.config);\n    }\n  }\n}","map":{"version":3,"names":["BaseTracer","RootListenersTracer","constructor","config","onStart","onEnd","onError","_awaitHandler","Object","defineProperty","enumerable","configurable","writable","value","argOnStart","argOnEnd","argOnError","persistRun","_","Promise","resolve","onRunCreate","run","rootId","id","onRunUpdate","error"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/@langchain/core/dist/tracers/root_listener.js"],"sourcesContent":["import { BaseTracer } from \"./base.js\";\nexport class RootListenersTracer extends BaseTracer {\n    constructor({ config, onStart, onEnd, onError, }) {\n        super({ _awaitHandler: true });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: \"RootListenersTracer\"\n        });\n        /** The Run's ID. Type UUID */\n        Object.defineProperty(this, \"rootId\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"config\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"argOnStart\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"argOnEnd\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        Object.defineProperty(this, \"argOnError\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        this.config = config;\n        this.argOnStart = onStart;\n        this.argOnEnd = onEnd;\n        this.argOnError = onError;\n    }\n    /**\n     * This is a legacy method only called once for an entire run tree\n     * therefore not useful here\n     * @param {Run} _ Not used\n     */\n    persistRun(_) {\n        return Promise.resolve();\n    }\n    async onRunCreate(run) {\n        if (this.rootId) {\n            return;\n        }\n        this.rootId = run.id;\n        if (this.argOnStart) {\n            await this.argOnStart(run, this.config);\n        }\n    }\n    async onRunUpdate(run) {\n        if (run.id !== this.rootId) {\n            return;\n        }\n        if (!run.error) {\n            if (this.argOnEnd) {\n                await this.argOnEnd(run, this.config);\n            }\n        }\n        else if (this.argOnError) {\n            await this.argOnError(run, this.config);\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,WAAW;AACtC,OAAO,MAAMC,mBAAmB,SAASD,UAAU,CAAC;EAChDE,WAAWA,CAAC;IAAEC,MAAM;IAAEC,OAAO;IAAEC,KAAK;IAAEC;EAAS,CAAC,EAAE;IAC9C,KAAK,CAAC;MAAEC,aAAa,EAAE;IAAK,CAAC,CAAC;IAC9BC,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,MAAM,EAAE;MAChCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;IACX,CAAC,CAAC;IACF;IACAL,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE;MAClCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;IACFL,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,QAAQ,EAAE;MAClCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;IACFL,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE;MACtCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;IACFL,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,UAAU,EAAE;MACpCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;IACFL,MAAM,CAACC,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE;MACtCC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,IAAI;MAClBC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;IACF,IAAI,CAACV,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACW,UAAU,GAAGV,OAAO;IACzB,IAAI,CAACW,QAAQ,GAAGV,KAAK;IACrB,IAAI,CAACW,UAAU,GAAGV,OAAO;EAC7B;EACA;AACJ;AACA;AACA;AACA;EACIW,UAAUA,CAACC,CAAC,EAAE;IACV,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC5B;EACA,MAAMC,WAAWA,CAACC,GAAG,EAAE;IACnB,IAAI,IAAI,CAACC,MAAM,EAAE;MACb;IACJ;IACA,IAAI,CAACA,MAAM,GAAGD,GAAG,CAACE,EAAE;IACpB,IAAI,IAAI,CAACV,UAAU,EAAE;MACjB,MAAM,IAAI,CAACA,UAAU,CAACQ,GAAG,EAAE,IAAI,CAACnB,MAAM,CAAC;IAC3C;EACJ;EACA,MAAMsB,WAAWA,CAACH,GAAG,EAAE;IACnB,IAAIA,GAAG,CAACE,EAAE,KAAK,IAAI,CAACD,MAAM,EAAE;MACxB;IACJ;IACA,IAAI,CAACD,GAAG,CAACI,KAAK,EAAE;MACZ,IAAI,IAAI,CAACX,QAAQ,EAAE;QACf,MAAM,IAAI,CAACA,QAAQ,CAACO,GAAG,EAAE,IAAI,CAACnB,MAAM,CAAC;MACzC;IACJ,CAAC,MACI,IAAI,IAAI,CAACa,UAAU,EAAE;MACtB,MAAM,IAAI,CAACA,UAAU,CAACM,GAAG,EAAE,IAAI,CAACnB,MAAM,CAAC;IAC3C;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}