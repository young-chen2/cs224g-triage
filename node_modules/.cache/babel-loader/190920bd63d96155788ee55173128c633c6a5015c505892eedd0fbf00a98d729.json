{"ast":null,"code":"// import './App.css';\n// import { useState } from 'react';\n// import OpenAI from 'openai';\n\n// function App() {\n//   const client = new OpenAI({\n//     apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n//   });\n\n//   const [messages, setMessages] = useState([\n//     { role: 'assistant', content: \"Hello! I'm your medical assistant. I'll help assess your symptoms and direct you to the appropriate healthcare professional. Could you please describe what brings you in today?\" }\n//   ]);\n//   const [inputMessage, setInputMessage] = useState('');\n//   const [isDarkMode, setIsDarkMode] = useState(false);\n\n//   const handleSendMessage = async () => {\n//     if (inputMessage.trim() === '') return;\n\n//     setMessages([...messages, { role: 'user', content: inputMessage }]);\n//     setInputMessage('');\n\n//     try {\n//       const response = await client.chat.completions.create({\n//         model: \"gpt-4\",\n//         messages: [\n//           { role: \"system\", content: \"You are a medical assistant helping to triage patients based on their symptoms. You will be given a patient's symptoms and you will need to determine the appropriate care level, specifically, if it should be directed to the ER, a nurse, a physician, or a physician assistant.\" },\n//           ...messages,\n//           { role: \"user\", content: inputMessage }\n//         ]\n//       });\n\n//       const assistantMessage = response.choices[0].message.content;\n//       setMessages(prevMessages => [...prevMessages, { role: 'assistant', content: assistantMessage }]);\n//     } \n//     catch (error) {\n//       console.error('Error calling OpenAI API:', error);\n//       setMessages(prevMessages => [...prevMessages, { \n//         role: 'assistant', \n//         content: \"I'm sorry, I encountered an error. Please try again.\" \n//       }]);\n//     }\n//   };\n\n//   return (\n//     <div className={`App ${isDarkMode ? 'dark-mode' : 'light-mode'}`}>\n//       <div className=\"chat-container\">\n//         <header className=\"chat-header\">\n//           <h1>Triage</h1>\n//           <button \n//             className=\"theme-toggle\"\n//             onClick={() => setIsDarkMode(!isDarkMode)}\n//           >\n//             {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n//           </button>\n//         </header>\n\n//         <div className=\"messages-container\">\n//           {messages.map((message, index) => (\n//             <div key={index} className={`message ${message.role}`}>\n//               {message.content}\n//             </div>\n//           ))}\n//         </div>\n\n//         <div className=\"input-container\">\n//           <input\n//             type=\"text\"\n//             value={inputMessage}\n//             onChange={(e) => setInputMessage(e.target.value)}\n//             placeholder=\"Describe your symptoms...\"\n//             onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n//           />\n//           <button onClick={handleSendMessage}>Send</button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["/Users/youngchen/Downloads/cs224g-triage/src/App.js"],"sourcesContent":["// import './App.css';\n// import { useState } from 'react';\n// import OpenAI from 'openai';\n\n// function App() {\n//   const client = new OpenAI({\n//     apiKey: process.env.REACT_APP_OPENAI_API_KEY,\n//   });\n\n//   const [messages, setMessages] = useState([\n//     { role: 'assistant', content: \"Hello! I'm your medical assistant. I'll help assess your symptoms and direct you to the appropriate healthcare professional. Could you please describe what brings you in today?\" }\n//   ]);\n//   const [inputMessage, setInputMessage] = useState('');\n//   const [isDarkMode, setIsDarkMode] = useState(false);\n\n//   const handleSendMessage = async () => {\n//     if (inputMessage.trim() === '') return;\n    \n//     setMessages([...messages, { role: 'user', content: inputMessage }]);\n//     setInputMessage('');\n\n//     try {\n//       const response = await client.chat.completions.create({\n//         model: \"gpt-4\",\n//         messages: [\n//           { role: \"system\", content: \"You are a medical assistant helping to triage patients based on their symptoms. You will be given a patient's symptoms and you will need to determine the appropriate care level, specifically, if it should be directed to the ER, a nurse, a physician, or a physician assistant.\" },\n//           ...messages,\n//           { role: \"user\", content: inputMessage }\n//         ]\n//       });\n\n//       const assistantMessage = response.choices[0].message.content;\n//       setMessages(prevMessages => [...prevMessages, { role: 'assistant', content: assistantMessage }]);\n//     } \n//     catch (error) {\n//       console.error('Error calling OpenAI API:', error);\n//       setMessages(prevMessages => [...prevMessages, { \n//         role: 'assistant', \n//         content: \"I'm sorry, I encountered an error. Please try again.\" \n//       }]);\n//     }\n//   };\n\n//   return (\n//     <div className={`App ${isDarkMode ? 'dark-mode' : 'light-mode'}`}>\n//       <div className=\"chat-container\">\n//         <header className=\"chat-header\">\n//           <h1>Triage</h1>\n//           <button \n//             className=\"theme-toggle\"\n//             onClick={() => setIsDarkMode(!isDarkMode)}\n//           >\n//             {isDarkMode ? '‚òÄÔ∏è' : 'üåô'}\n//           </button>\n//         </header>\n        \n//         <div className=\"messages-container\">\n//           {messages.map((message, index) => (\n//             <div key={index} className={`message ${message.role}`}>\n//               {message.content}\n//             </div>\n//           ))}\n//         </div>\n\n//         <div className=\"input-container\">\n//           <input\n//             type=\"text\"\n//             value={inputMessage}\n//             onChange={(e) => setInputMessage(e.target.value)}\n//             placeholder=\"Describe your symptoms...\"\n//             onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n//           />\n//           <button onClick={handleSendMessage}>Send</button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default App;"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}