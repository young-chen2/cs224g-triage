{"ast":null,"code":"import { setResponseValueAndErrors } from \"../errorMessages.mjs\";\nimport { parseDef } from \"../parseDef.mjs\";\nexport function parseSetDef(def, refs) {\n  const items = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'items']\n  });\n  const schema = {\n    type: 'array',\n    uniqueItems: true,\n    items\n  };\n  if (def.minSize) {\n    setResponseValueAndErrors(schema, 'minItems', def.minSize.value, def.minSize.message, refs);\n  }\n  if (def.maxSize) {\n    setResponseValueAndErrors(schema, 'maxItems', def.maxSize.value, def.maxSize.message, refs);\n  }\n  return schema;\n}","map":{"version":3,"names":["setResponseValueAndErrors","parseDef","parseSetDef","def","refs","items","valueType","_def","currentPath","schema","type","uniqueItems","minSize","value","message","maxSize"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/openai/src/_vendor/zod-to-json-schema/parsers/set.ts"],"sourcesContent":["import { ZodSetDef } from 'zod';\nimport { ErrorMessages, setResponseValueAndErrors } from '../errorMessages';\nimport { JsonSchema7Type, parseDef } from '../parseDef';\nimport { Refs } from '../Refs';\n\nexport type JsonSchema7SetType = {\n  type: 'array';\n  uniqueItems: true;\n  items?: JsonSchema7Type | undefined;\n  minItems?: number;\n  maxItems?: number;\n  errorMessage?: ErrorMessages<JsonSchema7SetType>;\n};\n\nexport function parseSetDef(def: ZodSetDef, refs: Refs): JsonSchema7SetType {\n  const items = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'items'],\n  });\n\n  const schema: JsonSchema7SetType = {\n    type: 'array',\n    uniqueItems: true,\n    items,\n  };\n\n  if (def.minSize) {\n    setResponseValueAndErrors(schema, 'minItems', def.minSize.value, def.minSize.message, refs);\n  }\n\n  if (def.maxSize) {\n    setResponseValueAndErrors(schema, 'maxItems', def.maxSize.value, def.maxSize.message, refs);\n  }\n\n  return schema;\n}\n"],"mappings":"SACwBA,yBAAyB,QAAE;SACzBC,QAAQ,QAAE;AAYpC,OAAM,SAAUC,WAAWA,CAACC,GAAc,EAAEC,IAAU;EACpD,MAAMC,KAAK,GAAGJ,QAAQ,CAACE,GAAG,CAACG,SAAS,CAACC,IAAI,EAAE;IACzC,GAAGH,IAAI;IACPI,WAAW,EAAE,CAAC,GAAGJ,IAAI,CAACI,WAAW,EAAE,OAAO;GAC3C,CAAC;EAEF,MAAMC,MAAM,GAAuB;IACjCC,IAAI,EAAE,OAAO;IACbC,WAAW,EAAE,IAAI;IACjBN;GACD;EAED,IAAIF,GAAG,CAACS,OAAO,EAAE;IACfZ,yBAAyB,CAACS,MAAM,EAAE,UAAU,EAAEN,GAAG,CAACS,OAAO,CAACC,KAAK,EAAEV,GAAG,CAACS,OAAO,CAACE,OAAO,EAAEV,IAAI,CAAC;;EAG7F,IAAID,GAAG,CAACY,OAAO,EAAE;IACff,yBAAyB,CAACS,MAAM,EAAE,UAAU,EAAEN,GAAG,CAACY,OAAO,CAACF,KAAK,EAAEV,GAAG,CAACY,OAAO,CAACD,OAAO,EAAEV,IAAI,CAAC;;EAG7F,OAAOK,MAAM;AACf","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}