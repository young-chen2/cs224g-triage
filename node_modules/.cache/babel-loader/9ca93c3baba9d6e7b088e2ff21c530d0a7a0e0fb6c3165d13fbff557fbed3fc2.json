{"ast":null,"code":"import { parseDef } from \"../parseDef.mjs\";\nexport const parseOptionalDef = (def, refs) => {\n  if (refs.currentPath.toString() === refs.propertyPath?.toString()) {\n    return parseDef(def.innerType._def, refs);\n  }\n  const innerSchema = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'anyOf', '1']\n  });\n  return innerSchema ? {\n    anyOf: [{\n      not: {}\n    }, innerSchema]\n  } : {};\n};","map":{"version":3,"names":["parseDef","parseOptionalDef","def","refs","currentPath","toString","propertyPath","innerType","_def","innerSchema","anyOf","not"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/openai/src/_vendor/zod-to-json-schema/parsers/optional.ts"],"sourcesContent":["import { ZodOptionalDef } from 'zod';\nimport { JsonSchema7Type, parseDef } from '../parseDef';\nimport { Refs } from '../Refs';\n\nexport const parseOptionalDef = (def: ZodOptionalDef, refs: Refs): JsonSchema7Type | undefined => {\n  if (refs.currentPath.toString() === refs.propertyPath?.toString()) {\n    return parseDef(def.innerType._def, refs);\n  }\n\n  const innerSchema = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'anyOf', '1'],\n  });\n\n  return innerSchema ?\n      {\n        anyOf: [\n          {\n            not: {},\n          },\n          innerSchema,\n        ],\n      }\n    : {};\n};\n"],"mappings":"SAC0BA,QAAQ,QAAE;AAGpC,OAAO,MAAMC,gBAAgB,GAAGA,CAACC,GAAmB,EAAEC,IAAU,KAAiC;EAC/F,IAAIA,IAAI,CAACC,WAAW,CAACC,QAAQ,EAAE,KAAKF,IAAI,CAACG,YAAY,EAAED,QAAQ,EAAE,EAAE;IACjE,OAAOL,QAAQ,CAACE,GAAG,CAACK,SAAS,CAACC,IAAI,EAAEL,IAAI,CAAC;;EAG3C,MAAMM,WAAW,GAAGT,QAAQ,CAACE,GAAG,CAACK,SAAS,CAACC,IAAI,EAAE;IAC/C,GAAGL,IAAI;IACPC,WAAW,EAAE,CAAC,GAAGD,IAAI,CAACC,WAAW,EAAE,OAAO,EAAE,GAAG;GAChD,CAAC;EAEF,OAAOK,WAAW,GACd;IACEC,KAAK,EAAE,CACL;MACEC,GAAG,EAAE;KACN,EACDF,WAAW;GAEd,GACD,EAAE;AACR,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}