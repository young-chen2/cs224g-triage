{"ast":null,"code":"import { ZodFirstPartyTypeKind } from 'zod';\nimport { setResponseValueAndErrors } from \"../errorMessages.mjs\";\nimport { parseDef } from \"../parseDef.mjs\";\nexport function parseArrayDef(def, refs) {\n  const res = {\n    type: 'array'\n  };\n  if (def.type?._def?.typeName !== ZodFirstPartyTypeKind.ZodAny) {\n    res.items = parseDef(def.type._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items']\n    });\n  }\n  if (def.minLength) {\n    setResponseValueAndErrors(res, 'minItems', def.minLength.value, def.minLength.message, refs);\n  }\n  if (def.maxLength) {\n    setResponseValueAndErrors(res, 'maxItems', def.maxLength.value, def.maxLength.message, refs);\n  }\n  if (def.exactLength) {\n    setResponseValueAndErrors(res, 'minItems', def.exactLength.value, def.exactLength.message, refs);\n    setResponseValueAndErrors(res, 'maxItems', def.exactLength.value, def.exactLength.message, refs);\n  }\n  return res;\n}","map":{"version":3,"names":["ZodFirstPartyTypeKind","setResponseValueAndErrors","parseDef","parseArrayDef","def","refs","res","type","_def","typeName","ZodAny","items","currentPath","minLength","value","message","maxLength","exactLength"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/openai/src/_vendor/zod-to-json-schema/parsers/array.ts"],"sourcesContent":["import { ZodArrayDef, ZodFirstPartyTypeKind } from 'zod';\nimport { ErrorMessages, setResponseValueAndErrors } from '../errorMessages';\nimport { JsonSchema7Type, parseDef } from '../parseDef';\nimport { Refs } from '../Refs';\n\nexport type JsonSchema7ArrayType = {\n  type: 'array';\n  items?: JsonSchema7Type | undefined;\n  minItems?: number;\n  maxItems?: number;\n  errorMessages?: ErrorMessages<JsonSchema7ArrayType, 'items'>;\n};\n\nexport function parseArrayDef(def: ZodArrayDef, refs: Refs) {\n  const res: JsonSchema7ArrayType = {\n    type: 'array',\n  };\n  if (def.type?._def?.typeName !== ZodFirstPartyTypeKind.ZodAny) {\n    res.items = parseDef(def.type._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items'],\n    });\n  }\n\n  if (def.minLength) {\n    setResponseValueAndErrors(res, 'minItems', def.minLength.value, def.minLength.message, refs);\n  }\n  if (def.maxLength) {\n    setResponseValueAndErrors(res, 'maxItems', def.maxLength.value, def.maxLength.message, refs);\n  }\n  if (def.exactLength) {\n    setResponseValueAndErrors(res, 'minItems', def.exactLength.value, def.exactLength.message, refs);\n    setResponseValueAndErrors(res, 'maxItems', def.exactLength.value, def.exactLength.message, refs);\n  }\n  return res;\n}\n"],"mappings":"SAAsBA,qBAAqB,QAAQ,KAAK;SAChCC,yBAAyB,QAAE;SACzBC,QAAQ,QAAE;AAWpC,OAAM,SAAUC,aAAaA,CAACC,GAAgB,EAAEC,IAAU;EACxD,MAAMC,GAAG,GAAyB;IAChCC,IAAI,EAAE;GACP;EACD,IAAIH,GAAG,CAACG,IAAI,EAAEC,IAAI,EAAEC,QAAQ,KAAKT,qBAAqB,CAACU,MAAM,EAAE;IAC7DJ,GAAG,CAACK,KAAK,GAAGT,QAAQ,CAACE,GAAG,CAACG,IAAI,CAACC,IAAI,EAAE;MAClC,GAAGH,IAAI;MACPO,WAAW,EAAE,CAAC,GAAGP,IAAI,CAACO,WAAW,EAAE,OAAO;KAC3C,CAAC;;EAGJ,IAAIR,GAAG,CAACS,SAAS,EAAE;IACjBZ,yBAAyB,CAACK,GAAG,EAAE,UAAU,EAAEF,GAAG,CAACS,SAAS,CAACC,KAAK,EAAEV,GAAG,CAACS,SAAS,CAACE,OAAO,EAAEV,IAAI,CAAC;;EAE9F,IAAID,GAAG,CAACY,SAAS,EAAE;IACjBf,yBAAyB,CAACK,GAAG,EAAE,UAAU,EAAEF,GAAG,CAACY,SAAS,CAACF,KAAK,EAAEV,GAAG,CAACY,SAAS,CAACD,OAAO,EAAEV,IAAI,CAAC;;EAE9F,IAAID,GAAG,CAACa,WAAW,EAAE;IACnBhB,yBAAyB,CAACK,GAAG,EAAE,UAAU,EAAEF,GAAG,CAACa,WAAW,CAACH,KAAK,EAAEV,GAAG,CAACa,WAAW,CAACF,OAAO,EAAEV,IAAI,CAAC;IAChGJ,yBAAyB,CAACK,GAAG,EAAE,UAAU,EAAEF,GAAG,CAACa,WAAW,CAACH,KAAK,EAAEV,GAAG,CAACa,WAAW,CAACF,OAAO,EAAEV,IAAI,CAAC;;EAElG,OAAOC,GAAG;AACZ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}