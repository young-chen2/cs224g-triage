{"ast":null,"code":"import { AsyncLocalStorageProviderSingleton } from \"../singletons/index.js\";\nimport { pickRunnableConfigKeys } from \"./config.js\";\nexport function isIterableIterator(thing) {\n  return typeof thing === \"object\" && thing !== null && typeof thing[Symbol.iterator] === \"function\" &&\n  // avoid detecting array/set as iterator\n  typeof thing.next === \"function\";\n}\nexport const isIterator = x => x != null && typeof x === \"object\" && \"next\" in x && typeof x.next === \"function\";\nexport function isAsyncIterable(thing) {\n  return typeof thing === \"object\" && thing !== null && typeof thing[Symbol.asyncIterator] === \"function\";\n}\nexport function* consumeIteratorInContext(context, iter) {\n  while (true) {\n    const {\n      value,\n      done\n    } = AsyncLocalStorageProviderSingleton.runWithConfig(pickRunnableConfigKeys(context), iter.next.bind(iter), true);\n    if (done) {\n      break;\n    } else {\n      yield value;\n    }\n  }\n}\nexport async function* consumeAsyncIterableInContext(context, iter) {\n  const iterator = iter[Symbol.asyncIterator]();\n  while (true) {\n    const {\n      value,\n      done\n    } = await AsyncLocalStorageProviderSingleton.runWithConfig(pickRunnableConfigKeys(context), iterator.next.bind(iter), true);\n    if (done) {\n      break;\n    } else {\n      yield value;\n    }\n  }\n}","map":{"version":3,"names":["AsyncLocalStorageProviderSingleton","pickRunnableConfigKeys","isIterableIterator","thing","Symbol","iterator","next","isIterator","x","isAsyncIterable","asyncIterator","consumeIteratorInContext","context","iter","value","done","runWithConfig","bind","consumeAsyncIterableInContext"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/@langchain/core/dist/runnables/iter.js"],"sourcesContent":["import { AsyncLocalStorageProviderSingleton } from \"../singletons/index.js\";\nimport { pickRunnableConfigKeys } from \"./config.js\";\nexport function isIterableIterator(thing) {\n    return (typeof thing === \"object\" &&\n        thing !== null &&\n        typeof thing[Symbol.iterator] === \"function\" &&\n        // avoid detecting array/set as iterator\n        typeof thing.next === \"function\");\n}\nexport const isIterator = (x) => x != null &&\n    typeof x === \"object\" &&\n    \"next\" in x &&\n    typeof x.next === \"function\";\nexport function isAsyncIterable(thing) {\n    return (typeof thing === \"object\" &&\n        thing !== null &&\n        typeof thing[Symbol.asyncIterator] ===\n            \"function\");\n}\nexport function* consumeIteratorInContext(context, iter) {\n    while (true) {\n        const { value, done } = AsyncLocalStorageProviderSingleton.runWithConfig(pickRunnableConfigKeys(context), iter.next.bind(iter), true);\n        if (done) {\n            break;\n        }\n        else {\n            yield value;\n        }\n    }\n}\nexport async function* consumeAsyncIterableInContext(context, iter) {\n    const iterator = iter[Symbol.asyncIterator]();\n    while (true) {\n        const { value, done } = await AsyncLocalStorageProviderSingleton.runWithConfig(pickRunnableConfigKeys(context), iterator.next.bind(iter), true);\n        if (done) {\n            break;\n        }\n        else {\n            yield value;\n        }\n    }\n}\n"],"mappings":"AAAA,SAASA,kCAAkC,QAAQ,wBAAwB;AAC3E,SAASC,sBAAsB,QAAQ,aAAa;AACpD,OAAO,SAASC,kBAAkBA,CAACC,KAAK,EAAE;EACtC,OAAQ,OAAOA,KAAK,KAAK,QAAQ,IAC7BA,KAAK,KAAK,IAAI,IACd,OAAOA,KAAK,CAACC,MAAM,CAACC,QAAQ,CAAC,KAAK,UAAU;EAC5C;EACA,OAAOF,KAAK,CAACG,IAAI,KAAK,UAAU;AACxC;AACA,OAAO,MAAMC,UAAU,GAAIC,CAAC,IAAKA,CAAC,IAAI,IAAI,IACtC,OAAOA,CAAC,KAAK,QAAQ,IACrB,MAAM,IAAIA,CAAC,IACX,OAAOA,CAAC,CAACF,IAAI,KAAK,UAAU;AAChC,OAAO,SAASG,eAAeA,CAACN,KAAK,EAAE;EACnC,OAAQ,OAAOA,KAAK,KAAK,QAAQ,IAC7BA,KAAK,KAAK,IAAI,IACd,OAAOA,KAAK,CAACC,MAAM,CAACM,aAAa,CAAC,KAC9B,UAAU;AACtB;AACA,OAAO,UAAUC,wBAAwBA,CAACC,OAAO,EAAEC,IAAI,EAAE;EACrD,OAAO,IAAI,EAAE;IACT,MAAM;MAAEC,KAAK;MAAEC;IAAK,CAAC,GAAGf,kCAAkC,CAACgB,aAAa,CAACf,sBAAsB,CAACW,OAAO,CAAC,EAAEC,IAAI,CAACP,IAAI,CAACW,IAAI,CAACJ,IAAI,CAAC,EAAE,IAAI,CAAC;IACrI,IAAIE,IAAI,EAAE;MACN;IACJ,CAAC,MACI;MACD,MAAMD,KAAK;IACf;EACJ;AACJ;AACA,OAAO,gBAAgBI,6BAA6BA,CAACN,OAAO,EAAEC,IAAI,EAAE;EAChE,MAAMR,QAAQ,GAAGQ,IAAI,CAACT,MAAM,CAACM,aAAa,CAAC,CAAC,CAAC;EAC7C,OAAO,IAAI,EAAE;IACT,MAAM;MAAEI,KAAK;MAAEC;IAAK,CAAC,GAAG,MAAMf,kCAAkC,CAACgB,aAAa,CAACf,sBAAsB,CAACW,OAAO,CAAC,EAAEP,QAAQ,CAACC,IAAI,CAACW,IAAI,CAACJ,IAAI,CAAC,EAAE,IAAI,CAAC;IAC/I,IAAIE,IAAI,EAAE;MACN;IACJ,CAAC,MACI;MACD,MAAMD,KAAK;IACf;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}