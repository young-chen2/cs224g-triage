{"ast":null,"code":"import { parseDef } from \"../parseDef.mjs\";\nimport { parseRecordDef } from \"./record.mjs\";\nexport function parseMapDef(def, refs) {\n  if (refs.mapStrategy === 'record') {\n    return parseRecordDef(def, refs);\n  }\n  const keys = parseDef(def.keyType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'items', 'items', '0']\n  }) || {};\n  const values = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, 'items', 'items', '1']\n  }) || {};\n  return {\n    type: 'array',\n    maxItems: 125,\n    items: {\n      type: 'array',\n      items: [keys, values],\n      minItems: 2,\n      maxItems: 2\n    }\n  };\n}","map":{"version":3,"names":["parseDef","parseRecordDef","parseMapDef","def","refs","mapStrategy","keys","keyType","_def","currentPath","values","valueType","type","maxItems","items","minItems"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/openai/src/_vendor/zod-to-json-schema/parsers/map.ts"],"sourcesContent":["import { ZodMapDef } from 'zod';\nimport { JsonSchema7Type, parseDef } from '../parseDef';\nimport { Refs } from '../Refs';\nimport { JsonSchema7RecordType, parseRecordDef } from './record';\n\nexport type JsonSchema7MapType = {\n  type: 'array';\n  maxItems: 125;\n  items: {\n    type: 'array';\n    items: [JsonSchema7Type, JsonSchema7Type];\n    minItems: 2;\n    maxItems: 2;\n  };\n};\n\nexport function parseMapDef(def: ZodMapDef, refs: Refs): JsonSchema7MapType | JsonSchema7RecordType {\n  if (refs.mapStrategy === 'record') {\n    return parseRecordDef(def, refs);\n  }\n\n  const keys =\n    parseDef(def.keyType._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items', 'items', '0'],\n    }) || {};\n  const values =\n    parseDef(def.valueType._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, 'items', 'items', '1'],\n    }) || {};\n  return {\n    type: 'array',\n    maxItems: 125,\n    items: {\n      type: 'array',\n      items: [keys, values],\n      minItems: 2,\n      maxItems: 2,\n    },\n  };\n}\n"],"mappings":"SAC0BA,QAAQ,QAAE;SAEJC,cAAc,QAAE;AAahD,OAAM,SAAUC,WAAWA,CAACC,GAAc,EAAEC,IAAU;EACpD,IAAIA,IAAI,CAACC,WAAW,KAAK,QAAQ,EAAE;IACjC,OAAOJ,cAAc,CAACE,GAAG,EAAEC,IAAI,CAAC;;EAGlC,MAAME,IAAI,GACRN,QAAQ,CAACG,GAAG,CAACI,OAAO,CAACC,IAAI,EAAE;IACzB,GAAGJ,IAAI;IACPK,WAAW,EAAE,CAAC,GAAGL,IAAI,CAACK,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;GACzD,CAAC,IAAI,EAAE;EACV,MAAMC,MAAM,GACVV,QAAQ,CAACG,GAAG,CAACQ,SAAS,CAACH,IAAI,EAAE;IAC3B,GAAGJ,IAAI;IACPK,WAAW,EAAE,CAAC,GAAGL,IAAI,CAACK,WAAW,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG;GACzD,CAAC,IAAI,EAAE;EACV,OAAO;IACLG,IAAI,EAAE,OAAO;IACbC,QAAQ,EAAE,GAAG;IACbC,KAAK,EAAE;MACLF,IAAI,EAAE,OAAO;MACbE,KAAK,EAAE,CAACR,IAAI,EAAEI,MAAM,CAAC;MACrBK,QAAQ,EAAE,CAAC;MACXF,QAAQ,EAAE;;GAEb;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}