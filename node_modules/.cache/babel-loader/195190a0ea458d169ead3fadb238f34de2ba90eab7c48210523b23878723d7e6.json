{"ast":null,"code":"import { parseDef } from \"../parseDef.js\";\nexport const parsePipelineDef = (def, refs) => {\n  if (refs.pipeStrategy === \"input\") {\n    return parseDef(def.in._def, refs);\n  } else if (refs.pipeStrategy === \"output\") {\n    return parseDef(def.out._def, refs);\n  }\n  const a = parseDef(def.in._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"allOf\", \"0\"]\n  });\n  const b = parseDef(def.out._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"allOf\", a ? \"1\" : \"0\"]\n  });\n  return {\n    allOf: [a, b].filter(x => x !== undefined)\n  };\n};","map":{"version":3,"names":["parseDef","parsePipelineDef","def","refs","pipeStrategy","in","_def","out","a","currentPath","b","allOf","filter","x","undefined"],"sources":["/Users/youngchen/Downloads/cs224g-triage/node_modules/zod-to-json-schema/dist/esm/parsers/pipeline.js"],"sourcesContent":["import { parseDef } from \"../parseDef.js\";\nexport const parsePipelineDef = (def, refs) => {\n    if (refs.pipeStrategy === \"input\") {\n        return parseDef(def.in._def, refs);\n    }\n    else if (refs.pipeStrategy === \"output\") {\n        return parseDef(def.out._def, refs);\n    }\n    const a = parseDef(def.in._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"allOf\", \"0\"],\n    });\n    const b = parseDef(def.out._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"allOf\", a ? \"1\" : \"0\"],\n    });\n    return {\n        allOf: [a, b].filter((x) => x !== undefined),\n    };\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,gBAAgB;AACzC,OAAO,MAAMC,gBAAgB,GAAGA,CAACC,GAAG,EAAEC,IAAI,KAAK;EAC3C,IAAIA,IAAI,CAACC,YAAY,KAAK,OAAO,EAAE;IAC/B,OAAOJ,QAAQ,CAACE,GAAG,CAACG,EAAE,CAACC,IAAI,EAAEH,IAAI,CAAC;EACtC,CAAC,MACI,IAAIA,IAAI,CAACC,YAAY,KAAK,QAAQ,EAAE;IACrC,OAAOJ,QAAQ,CAACE,GAAG,CAACK,GAAG,CAACD,IAAI,EAAEH,IAAI,CAAC;EACvC;EACA,MAAMK,CAAC,GAAGR,QAAQ,CAACE,GAAG,CAACG,EAAE,CAACC,IAAI,EAAE;IAC5B,GAAGH,IAAI;IACPM,WAAW,EAAE,CAAC,GAAGN,IAAI,CAACM,WAAW,EAAE,OAAO,EAAE,GAAG;EACnD,CAAC,CAAC;EACF,MAAMC,CAAC,GAAGV,QAAQ,CAACE,GAAG,CAACK,GAAG,CAACD,IAAI,EAAE;IAC7B,GAAGH,IAAI;IACPM,WAAW,EAAE,CAAC,GAAGN,IAAI,CAACM,WAAW,EAAE,OAAO,EAAED,CAAC,GAAG,GAAG,GAAG,GAAG;EAC7D,CAAC,CAAC;EACF,OAAO;IACHG,KAAK,EAAE,CAACH,CAAC,EAAEE,CAAC,CAAC,CAACE,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAKC,SAAS;EAC/C,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}